{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="card">
        <h2>Create Group</h2>
        <form method="POST">
            <input type="text" name="group_name" placeholder="Group Name"  class="input-field" required>
            <button type="submit" class="btn btn-primary">Create</button>
        </form>
    </div>

    {% for group in groups %}
    <div class="card">
        <h3>{{ group.name }}</h3>
        
        <div class="members-list">
            <h4>Members</h4>
            {% for member in group.members %}
            <div class="member-item">
                <span>{{ member.username }}</span>
                <button class="btn btn-primary" 
                        data-group="{{ group.id }}" 
                        data-user="{{ member.user_id }}">
                    Remove
                </button>
            </div>
            {% endfor %}
        </div>

        <form class="add-member-form" data-group="{{ group.id }}">
            <input type="text" placeholder="Username" class="input-field" required>
            <button type="submit" class="btn btn-primary">Add Member</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}